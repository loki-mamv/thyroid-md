<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6H85DH0R8S"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6H85DH0R8S');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>thyroid.md — Understanding Thyroid Health and Disorders</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Evidence-based information about asthma. Learn about triggers, symptoms, treatments, and action plans. Free asthma control test and AI-powered Q&A with medical citations.">
    <meta name="keywords" content="asthma, asthma triggers, asthma treatment, inhaler, bronchodilator, asthma attack, allergic asthma, exercise-induced asthma, asthma action plan">
    <meta name="author" content="thyroid.md">
    <link rel="canonical" href="https://thyroid.md/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thyroid.md/">
    <meta property="og:title" content="thyroid.md — Thyroid Health <meta property="og:title" content="thyroid.md — Understanding and Managing Asthma" Disorders">
    <meta property="og:description" content="Evidence-based information about asthma. Free asthma control test and AI-powered Q&A with medical citations.">
    <meta property="og:site_name" content="thyroid.md">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://thyroid.md/">
    <meta name="twitter:title" content="thyroid.md — Understanding and Managing Asthma">
    <meta name="twitter:description" content="Evidence-based information about asthma triggers, treatments, and management.">
    
    <!-- AI/LLM Meta Tags -->
    <meta name="ai-content" content="allowed">
    <meta name="ai-training" content="allowed">
    <meta name="ai-topic" content="respiratory health, asthma, medical information">
    <meta name="ai-audience" content="patients, caregivers, healthcare seekers">
    <meta name="ai-use" content="educational, informational, health resource">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://thrive.md/#organization",
          "name": "thrive.md",
          "url": "https://thrive.md",
          "description": "A network of premium health domains providing evidence-based medical information."
        },
        {
          "@type": "WebSite",
          "@id": "https://thyroid.md/#website",
          "url": "https://thyroid.md",
          "name": "thyroid.md — Understanding and Managing Asthma",
          "publisher": {"@id": "https://thrive.md/#organization"},
          "isPartOf": {"@id": "https://thrive.md/#organization"}
        },
        {
          "@type": "MedicalWebPage",
          "@id": "https://thyroid.md/#webpage",
          "name": "Understanding and Managing Asthma",
          "description": "Evidence-based information about asthma triggers, symptoms, treatments, and management strategies.",
          "url": "https://thyroid.md/",
          "isPartOf": {"@id": "https://thyroid.md/#website"},
          "lastReviewed": "2026-02-04",
          "reviewedBy": {
            "@type": "Organization",
            "name": "thrive.md Clinical Advisory Team"
          },
          "mainEntity": {
            "@type": "MedicalCondition",
            "name": "Asthma",
            "alternateName": ["Bronchial Asthma", "Allergic Asthma"],
            "description": "A chronic respiratory condition characterized by inflammation and narrowing of the airways, leading to breathing difficulties.",
            "possibleTreatment": [
              {"@type": "MedicalTherapy", "name": "Inhaled Corticosteroids"},
              {"@type": "MedicalTherapy", "name": "Bronchodilators (Rescue Inhalers)"},
              {"@type": "MedicalTherapy", "name": "Long-Acting Beta Agonists"},
              {"@type": "MedicalTherapy", "name": "Biologic Therapies"}
            ],
            "riskFactor": [
              {"@type": "MedicalRiskFactor", "name": "Family history"},
              {"@type": "MedicalRiskFactor", "name": "Allergies"},
              {"@type": "MedicalRiskFactor", "name": "Environmental exposures"}
            ],
            "epidemiology": "Affects 25 million Americans, including 5 million children"
          },
          "about": {
            "@type": "MedicalCondition",
            "name": "Asthma"
          },
          "audience": {
            "@type": "PeopleAudience",
            "healthCondition": {
              "@type": "MedicalCondition",
              "name": "Asthma"
            }
          },
          "speakable": {
            "@type": "SpeakableSpecification",
            "cssSelector": [".hero h1", ".hero-subtitle", ".stat-number"]
          }
        },
        {
          "@type": "FAQPage",
          "@id": "https://thyroid.md/#faq",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What does the thyroid do?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Common asthma triggers include allergens (pollen, dust mites, pet dander, mold), respiratory infections, cold air, exercise, smoke, strong odors, air pollution, and stress. Triggers vary by person. Identifying and avoiding your specific triggers is a key part of asthma management."
              }
            },
            {
              "@type": "Question",
              "name": "What are the symptoms of asthma?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Common asthma symptoms include wheezing, shortness of breath, chest tightness, and persistent cough (especially at night or early morning). Symptoms may worsen with exercise, allergies, or respiratory infections. Severe symptoms require immediate medical attention."
              }
            },
            {
              "@type": "Question",
              "name": "How is asthma treated?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Asthma treatment includes controller medications (inhaled corticosteroids, long-acting bronchodilators) for daily use and rescue inhalers (short-acting bronchodilators) for quick relief during flare-ups. Severe cases may require biologic therapies. Treatment is personalized based on severity and control level."
              }
            },
            {
              "@type": "Question",
              "name": "Can asthma be cured?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Asthma cannot be cured, but it can be effectively controlled. With proper treatment and trigger management, most people with asthma live active, normal lives. Some children experience improvement or remission as they grow, though asthma can return in adulthood."
              }
            }
          ]
        }
      ]
    }
    </script>
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctext x='16' y='24' font-family='-apple-system,system-ui,sans-serif' font-weight='800' font-size='16' fill='%230d9488' text-anchor='middle' letter-spacing='-0.5'%3E.md%3C/text%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #94a3b8;
            --accent: #0d9488;
            --accent-dark: #0f766e;
            --accent-light: #ccfbf1;
            --border: #e2e8f0;
            --font-display: 'Source Serif 4', Georgia, serif;
            --font-body: 'Inter', -apple-system, sans-serif;
        }

        html { scroll-behavior: smooth; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: var(--font-body);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 16px;
            transition: padding 0.4s ease;
        }

        /* Split-screen mode */
        body.split-mode { padding-right: 45%; }
        body.split-mode header { right: 45%; }
        body.split-mode .chat-panel {
            position: fixed; top: 0; right: 0; width: 45%; height: 100vh;
            background: var(--bg-secondary); border-left: 1px solid var(--border);
            display: flex; flex-direction: column; z-index: 200;
            animation: slideIn 0.4s ease;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        body.split-mode .chat-panel .chat-header {
            padding: 20px 24px; border-bottom: 1px solid var(--border);
            background: var(--bg-primary);
        }
        body.split-mode .chat-panel .chat-messages {
            flex: 1; overflow-y: auto; padding: 24px; padding-bottom: 16px;
            display: block !important; min-height: 0;
        }
        body.split-mode .chat-panel .chat-input-area {
            padding: 16px 24px; border-top: 1px solid var(--border);
            background: var(--bg-primary); flex-shrink: 0;
        }
        body.split-mode .chat-panel .qa-suggestions,
        body.split-mode .chat-panel .chat-note { display: none; }
        body.split-mode .chat-panel .chat-close { display: flex; }
        body.split-mode .hero .chat-box { display: none; }
        .chat-close {
            display: none; position: absolute; top: 16px; right: 16px;
            width: 32px; height: 32px; border: none;
            background: var(--bg-tertiary); border-radius: 8px; cursor: pointer;
            align-items: center; justify-content: center; font-size: 18px;
            color: var(--text-muted); transition: all 0.2s;
        }
        .chat-close:hover { background: var(--border); color: var(--text-primary); }
        @media (max-width: 900px) {
            body.split-mode { padding-right: 0; }
            body.split-mode header { right: 0; }
            body.split-mode .chat-panel { width: 100%; }
        }

        /* Header */
        header {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
        }
        .header-inner {
            max-width: 1100px; margin: 0 auto; padding: 16px 24px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo {
            font-family: var(--font-display); font-size: 22px; font-weight: 600;
            color: var(--text-primary); text-decoration: none;
        }
        .logo span { color: var(--accent); }
        nav { display: flex; gap: 32px; }
        nav a {
            color: var(--text-secondary); text-decoration: none;
            font-size: 14px; font-weight: 500; transition: color 0.2s;
        }
        nav a:hover { color: var(--accent); }

        /* Hero */
        .hero { padding: 140px 24px 80px; max-width: 720px; margin: 0 auto; }
        .hero-eyebrow {
            font-size: 13px; font-weight: 600; color: var(--accent);
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 16px;
        }
        h1 {
            font-family: var(--font-display); font-size: clamp(36px, 5vw, 48px);
            font-weight: 700; line-height: 1.2; margin-bottom: 20px;
        }
        .hero-subtitle {
            font-size: 19px; color: var(--text-secondary);
            line-height: 1.7; margin-bottom: 40px;
        }

        /* Chat Box */
        .chat-box {
            background: var(--bg-secondary); border: 1px solid var(--border);
            border-radius: 12px; overflow: hidden;
        }
        .chat-header {
            padding: 16px 20px; border-bottom: 1px solid var(--border);
            display: flex; align-items: center; gap: 12px;
        }
        .chat-status {
            width: 10px; height: 10px; background: var(--accent); border-radius: 50%;
        }
        .chat-header-text {
            font-size: 14px; font-weight: 600; color: var(--text-primary);
        }
        .chat-header-sub {
            font-size: 12px; color: var(--text-muted);
            font-weight: 400; margin-left: 8px;
        }
        .chat-messages {
            padding: 20px; background: var(--bg-primary);
            min-height: 0; max-height: 350px; overflow-y: auto; display: none;
        }
        .chat-messages.active { display: block; }
        .typing-indicator { display: flex; gap: 5px; padding: 12px 16px; align-items: center; }
        .typing-indicator span {
            width: 8px; height: 8px; background: var(--accent); border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
            30% { transform: translateY(-6px); opacity: 1; }
        }
        .chat-message { display: flex; gap: 12px; margin-bottom: 16px; }
        .chat-message:last-child { margin-bottom: 0; }
        .chat-message.user { flex-direction: row-reverse; }
        .chat-avatar {
            width: 32px; height: 32px; border-radius: 50%;
            background: var(--bg-tertiary); display: flex;
            align-items: center; justify-content: center;
            font-size: 12px; font-weight: 600; color: var(--text-muted);
            flex-shrink: 0;
        }
        .chat-message.assistant .chat-avatar {
            background: var(--accent-light); color: var(--accent-dark);
        }
        .chat-bubble {
            background: var(--bg-secondary); padding: 12px 16px;
            border-radius: 12px; border-top-left-radius: 4px; max-width: 5-8x;
            border: 1px solid var(--border);
        }
        .chat-message.user .chat-bubble {
            background: var(--accent); color: white; border-color: transparent;
            border-top-left-radius: 12px; border-top-right-radius: 4px;
        }
        .chat-bubble p { font-size: 14px; line-height: 1.6; color: var(--text-secondary); }
        .chat-message.user .chat-bubble p { color: white; }
        .chat-input-area {
            padding: 16px 20px; border-top: 1px solid var(--border);
            display: flex; gap: 12px;
        }
        .chat-input {
            flex: 1; padding: 12px 16px; background: var(--bg-primary);
            border: 1px solid var(--border); border-radius: 8px;
            font-size: 14px; color: var(--text-primary); outline: none;
            transition: border-color 0.2s;
        }
        .chat-input::placeholder { color: var(--text-muted); }
        .chat-input:focus { border-color: var(--accent); }
        .chat-send {
            background: var(--accent); color: white; border: none;
            padding: 12px 20px; border-radius: 8px; font-weight: 600;
            font-size: 14px; cursor: pointer; transition: background 0.2s;
        }
        .chat-send:hover { background: var(--accent-dark); }
        .chat-note {
            font-size: 11px; color: var(--text-muted); padding: 12px 20px;
            background: var(--bg-tertiary); text-align: center;
        }
        .qa-suggestions {
            display: flex; flex-wrap: wrap; gap: 8px;
            padding: 8px 16px 12px;
        }
        .qa-suggestions span {
            background: var(--bg-primary); border: 1px solid var(--border);
            border-radius: 100px; padding: 6px 16px; font-size: 13px;
            color: var(--text-secondary); cursor: pointer; transition: all 0.2s;
        }
        .qa-suggestions span:hover {
            border-color: var(--accent); color: var(--accent);
            background: var(--accent-light);
        }

        /* Stats Bar */
        .stats-bar {
            background: var(--bg-secondary); border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border); padding: 48px 24px;
        }
        .stats-inner {
            max-width: 1100px; margin: 0 auto;
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 32px;
        }
        .stat { text-align: center; }
        .stat-number {
            font-family: var(--font-display); font-size: 36px;
            font-weight: 700; color: var(--text-primary); margin-bottom: 4px;
        }
        .stat-label { font-size: 14px; color: var(--text-secondary); line-height: 1.4; }
        .stat-source { font-size: 11px; color: var(--text-muted); margin-top: 4px; }

        /* Main Content */
        main { max-width: 720px; margin: 0 auto; padding: 64px 24px; }
        .section { margin-bottom: 64px; }
        .section-label {
            font-size: 12px; font-weight: 600; color: var(--accent);
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;
        }
        h2 {
            font-family: var(--font-display); font-size: 28px;
            font-weight: 700; margin-bottom: 20px;
        }
        .section > p {
            font-size: 17px; color: var(--text-secondary); margin-bottom: 20px;
        }

        /* Types Grid */
        .types-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 32px;
        }
        .type-card {
            background: var(--bg-secondary); border: 1px solid var(--border);
            border-radius: 10px; padding: 24px;
        }
        .type-card h3 {
            font-family: var(--font-display); font-size: 17px;
            font-weight: 600; margin-bottom: 8px;
        }
        .type-card p {
            font-size: 14px; color: var(--text-secondary); line-height: 1.6;
        }

        /* Treatment List */
        .treatment-list {
            list-style: none; margin-top: 24px; border-top: 1px solid var(--border);
        }
        .treatment-list li { padding: 24px 0; border-bottom: 1px solid var(--border); }
        .treatment-list h4 {
            font-family: var(--font-display); font-size: 17px;
            font-weight: 600; margin-bottom: 6px;
        }
        .treatment-list p {
            font-size: 15px; color: var(--text-secondary); line-height: 1.6;
        }
        .treatment-tag {
            display: inline-block; font-size: 11px; font-weight: 600;
            color: var(--accent); background: var(--accent-light);
            padding: 4px 8px; border-radius: 4px; margin-bottom: 8px;
        }

        /* CTA */
        .cta {
            background: var(--bg-secondary); border: 1px solid var(--border);
            border-radius: 12px; padding: 48px; text-align: center; margin-top: 64px;
        }
        .cta h2 { font-size: 24px; margin-bottom: 12px; }
        .cta p {
            font-size: 16px; color: var(--text-secondary); margin-bottom: 24px;
            max-width: 400px; margin-left: auto; margin-right: auto;
        }
        .cta-button {
            display: inline-block; background: var(--accent); color: white;
            padding: 14px 28px; border-radius: 8px; font-weight: 600;
            font-size: 15px; text-decoration: none; transition: background 0.2s;
        }
        .cta-button:hover { background: var(--accent-dark); }

        /* Footer */
        footer {
            background: var(--bg-secondary); border-top: 1px solid var(--border);
            padding: 48px 24px;
        }
        .footer-inner {
            max-width: 1100px; margin: 0 auto;
            display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 40px;
        }
        .footer-brand .logo { display: inline-block; margin-bottom: 12px; }
        .footer-brand p {
            font-size: 14px; color: var(--text-muted); line-height: 1.6;
        }
        .footer-links h4 {
            font-size: 12px; font-weight: 600; color: var(--text-primary);
            text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 12px;
        }
        .footer-links a {
            display: block; color: var(--text-muted); text-decoration: none;
            font-size: 14px; margin-bottom: 8px; transition: color 0.2s;
        }
        .footer-links a:hover { color: var(--accent); }
        .footer-bottom {
            max-width: 1100px; margin: 32px auto 0; padding-top: 24px;
            border-top: 1px solid var(--border); display: flex;
            justify-content: space-between; font-size: 13px; color: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav { display: none; }
            .stats-inner { grid-template-columns: repeat(2, 1fr); gap: 24px; }
            .types-grid { grid-template-columns: 1fr; }
            .footer-inner { grid-template-columns: 1fr; gap: 24px; }
            .hero { padding: 100px 16px 40px; }
            .hero h1 { font-size: 32px; }
            .hero-subtitle { font-size: 17px; margin-bottom: 24px; }
            .chat-input-area {
                flex-direction: row !important; align-items: flex-end;
                padding: 12px 12px; gap: 8px;
            }
            .chat-input {
                flex: 1; border-radius: 20px; padding: 10px 16px;
                font-size: 16px; min-height: 40px;
            }
            .chat-send {
                width: 40px; height: 40px; min-width: 40px; border-radius: 50%;
                padding: 0; display: flex; align-items: center;
                justify-content: center; flex-shrink: 0;
            }
            .chat-send span { font-size: 0; }
            .chat-send span::before { content: '↑'; font-size: 20px; font-weight: 700; }
        }
    </style>
</head>
<body>
    <div class="chat-panel" id="chat-panel" style="display: none;">
        <button class="chat-close" onclick="closeSplitMode()">✕</button>
        <div class="chat-header">
            <div class="chat-status"></div>
            <span class="chat-header-text">Ask a question<span class="chat-header-sub">— get answers from clinical research</span></span>
        </div>
        <div id="panel-messages" class="chat-messages"></div>
        <div class="chat-input-area">
            <textarea id="panel-input" class="chat-input" placeholder="Ask a follow-up question..." rows="1" style="resize:none;"></textarea>
            <button id="panel-submit" class="chat-send" onclick="askQuestion()">
                <span>Send</span>
            </button>
        </div>
    </div>

    <header>
        <div class="header-inner">
            <a href="/" class="logo">thyroid<span>.md</span></a>
            <nav>
                <a href="#ask" onclick="event.preventDefault(); activateSplitMode(); document.getElementById('panel-input').focus();">Ask</a>
                <a href="/blog/">Articles</a>
                <a href="#about">About</a>
                <a href="#triggers">Triggers</a>
                <a href="#treatment">Treatment</a>
                <a href="/resources.html">Resources</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="hero-eyebrow">Endocrine Health Resource</div>
        <h1>Understanding thyroid disorders</h1>
        <p class="hero-subtitle">Clear, evidence-based information about thyroid disorders — hypothyroidism, hyperthyroidism, Hashimoto's, and treatment options.
        
        <div class="chat-box" id="ask">
            <div class="chat-header">
                <div class="chat-status"></div>
                <span class="chat-header-text">Ask a question<span class="chat-header-sub">— get answers from clinical research</span></span>
            </div>
            <div id="chat-messages" class="chat-messages active">
                <div class="chat-message assistant">
                    <div class="chat-avatar">MD</div>
                    <div class="chat-bubble"><p>Hi — I'm here to help you understand asthma. Ask me anything about triggers, treatments, or action plans. All answers are sourced from clinical research.</p></div>
                </div>
            </div>
            <div class="chat-input-area">
                <textarea id="qa-input" class="chat-input" placeholder="Ask about asthma..." rows="1" style="resize:none;"></textarea>
                <button id="qa-submit" class="chat-send" onclick="askQuestion()">
                    <span>Send</span>
                </button>
            </div>
            <div class="qa-suggestions">
                <span onclick="askSuggestion(this)">What does the thyroid do?</span>
                <span onclick="askSuggestion(this)">Hypo vs hyperthyroidism</span>
                <span onclick="askSuggestion(this)">Exercise-induced thyroid</span>
            </div>
            <div class="chat-note">Answers sourced from peer-reviewed research and clinical guidelines. Not a substitute for professional medical advice.</div>
        </div>
    </section>

    <section class="stats-bar">
        <div class="stats-inner">
            <div class="stat">
                <div class="stat-number">20M</div>
                <div class="stat-label">Americans with thyroid disease</div>
                <div class="stat-source">ATA</div>
            </div>
            <div class="stat">
                <div class="stat-number">60%</div>
                <div class="stat-label">Are unaware they have it</div>
                <div class="stat-source">ATA</div>
            </div>
            <div class="stat">
                <div class="stat-number">5-8x</div>
                <div class="stat-label">More common in women</div>
                <div class="stat-source">NIDDK</div>
            </div>
            <div class="stat">
                <div class="stat-number">90%</div>
                <div class="stat-label">Hypothyroidism cases are autoimmune</div>
                <div class="stat-source">Endocrine Society</div>
            </div>
        </div>
    </section>

    <main>
        <section class="section" id="about">
            <div class="section-label">Overview</div>
            <h2>What is asthma?</h2>
            <p>Asthma is a chronic respiratory condition where the airways become inflamed and narrow, making breathing difficult. During an asthma attack, the muscles around the airways tighten, the lining swells, and excess mucus is produced — all of which restrict airflow.</p>
            <p>While asthma cannot be cured, it can be effectively controlled with proper medication, trigger avoidance, and an asthma action plan. Most people with asthma live active, full lives when their condition is well-managed.</p>
        </section>

        <section class="section" id="triggers">
            <div class="section-label">Common Triggers</div>
            <h2>What causes asthma flare-ups?</h2>
            <p>Asthma triggers vary by person. Identifying your specific triggers is essential for effective management.</p>
            
            <div class="types-grid">
                <div class="type-card">
                    <h3>Allergens</h3>
                    <p>Pollen, dust mites, pet dander, mold, and cockroach droppings can trigger allergic asthma responses.</p>
                </div>
                <div class="type-card">
                    <h3>Irritants</h3>
                    <p>Smoke, strong odors, cleaning products, air pollution, and chemical fumes irritate sensitive airways.</p>
                </div>
                <div class="type-card">
                    <h3>Exercise & Cold Air</h3>
                    <p>Physical activity and breathing cold, dry air can cause exercise-induced bronchoconstriction.</p>
                </div>
                <div class="type-card">
                    <h3>Infections</h3>
                    <p>Colds, flu, sinus infections, and respiratory viruses often worsen asthma symptoms.</p>
                </div>
            </div>
        </section>

        <section class="section" id="treatment">
            <div class="section-label">Treatment</div>
            <h2>Managing asthma effectively</h2>
            <p>Asthma treatment consists of controller medications for daily use and rescue inhalers for quick relief during flare-ups.</p>
            
            <ul class="treatment-list">
                <li>
                    <span class="treatment-tag">Controller</span>
                    <h4>Inhaled Corticosteroids</h4>
                    <p>The most effective long-term control medication. Reduces airway inflammation when taken daily, even when feeling well. Examples: fluticasone, budesonide.</p>
                </li>
                <li>
                    <span class="treatment-tag">Rescue</span>
                    <h4>Short-Acting Beta Agonists</h4>
                    <p>Fast-acting bronchodilators that relax airway muscles within minutes. Used for quick relief during symptoms or before exercise. Example: albuterol.</p>
                </li>
                <li>
                    <span class="treatment-tag">Controller</span>
                    <h4>Long-Acting Bronchodilators</h4>
                    <p>Combined with inhaled steroids for moderate to severe asthma. Keeps airways open for 12+ hours. Examples: salmeterol, formoterol.</p>
                </li>
                <li>
                    <span class="treatment-tag">Specialized</span>
                    <h4>Biologic Therapies</h4>
                    <p>Injectable medications for severe asthma that targets specific inflammatory pathways. Examples: omalizumab, mepolizumab, dupilumab.</p>
                </li>
            </ul>
        </section>

        <div class="cta">
            <h2>Need an asthma action plan?</h2>
            <p>Work with your healthcare provider to create a personalized asthma action plan that outlines daily management and emergency response.</p>
            <a href="/resources.html" class="cta-button">View Resources</a>
        </div>
    </main>

    <footer>
        <div class="footer-inner">
            <div class="footer-brand">
                <a href="/" class="logo">thyroid<span>.md</span></a>
                <p>Part of the <a href="https://thrive.md" style="color: var(--accent); text-decoration: none;">thrive.md</a> health network. Evidence-based respiratory health information, reviewed by medical professionals.</p>
            </div>
            <div class="footer-links">
                <h4>Resources</h4>
                <a href="/resources.html">Resource Library</a>
                <a href="/faq.html">Common Questions</a>
                <a href="/blog.html">Articles</a>
            </div>
            <div class="footer-links">
                <h4>About</h4>
                <a href="https://thrive.md/editorial-policy.html">Editorial Policy</a>
                <a href="https://thrive.md/medical-review.html">Medical Review</a>
                <a href="mailto:hello@thrive.md">Contact</a>
            </div>
            <div class="footer-links">
                <h4>Network</h4>
                <a href="https://thrive.md">thrive.md</a>
                <a href="https://anxiety.md">anxiety.md</a>
                <a href="https://adhd.md">adhd.md</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2026 thyroid.md · A <a href="https://thrive.md" style="color: var(--text-muted); text-decoration: none;">thrive.md</a> property</p>
            <p>Medical information, not medical advice</p>
        </div>
    </footer>

    <script>
        const QA_API = 'https://md-qa.md-health.workers.dev/ask';
        const SESSION_ID = 'session_' + Math.random().toString(36).substr(2, 9);
        const TOPIC = 'thyroid';
        
        class Typewriter {
            constructor(element, speed = 8) {
                this.element = element;
                this.speed = speed;
                this.queue = '';
                this.displayed = '';
                this.typing = false;
                this.done = false;
                this.onComplete = null;
            }
            add(text) {
                this.queue += text;
                if (!this.typing) this.type();
            }
            type() {
                if (this.queue.length === 0) {
                    this.typing = false;
                    if (this.done && this.onComplete) this.onComplete(this.displayed);
                    return;
                }
                this.typing = true;
                const chars = Math.min(2 + Math.floor(Math.random() * 4), this.queue.length);
                this.displayed += this.queue.slice(0, chars);
                this.queue = this.queue.slice(chars);
                this.element.innerHTML = formatResponse(this.displayed);
                this.element.closest('.chat-messages')?.scrollTo(0, 999999);
                setTimeout(() => this.type(), this.speed + Math.random() * 8);
            }
            finish() {
                this.done = true;
                return new Promise(resolve => {
                    if (!this.typing && this.queue.length === 0) {
                        resolve(this.displayed);
                    } else {
                        this.onComplete = resolve;
                    }
                });
            }
        }

        let splitModeActive = false;
        
        function getActiveMessagesDiv() {
            return splitModeActive 
                ? document.getElementById('panel-messages')
                : document.getElementById('chat-messages');
        }
        function getActiveInput() {
            return splitModeActive
                ? document.getElementById('panel-input')
                : document.getElementById('qa-input');
        }
        function activateSplitMode() {
            if (splitModeActive) return;
            splitModeActive = true;
            document.body.classList.add('split-mode');
            const panel = document.getElementById('chat-panel');
            panel.style.display = 'flex';
            const heroMessages = document.getElementById('chat-messages');
            const panelMessages = document.getElementById('panel-messages');
            panelMessages.innerHTML = heroMessages.innerHTML;
            panelMessages.classList.add('active');
            document.getElementById('panel-input').focus();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        function closeSplitMode() {
            splitModeActive = false;
            document.body.classList.remove('split-mode');
            document.getElementById('chat-panel').style.display = 'none';
            const panelMessages = document.getElementById('panel-messages');
            const heroMessages = document.getElementById('chat-messages');
            heroMessages.innerHTML = panelMessages.innerHTML;
            heroMessages.classList.add('active');
        }

        function addMessage(text, isUser = false, isTyping = false) {
            const messagesDiv = getActiveMessagesDiv();
            messagesDiv.classList.add('active');
            const msgDiv = document.createElement('div');
            msgDiv.className = `chat-message ${isUser ? 'user' : 'assistant'}`;
            if (isTyping) {
                msgDiv.id = 'typing-indicator';
                msgDiv.innerHTML = `
                    <div class="chat-avatar">MD</div>
                    <div class="chat-bubble">
                        <div class="typing-indicator">
                            <span></span><span></span><span></span>
                        </div>
                    </div>`;
            } else {
                msgDiv.innerHTML = `
                    <div class="chat-avatar">${isUser ? 'You' : 'MD'}</div>
                    <div class="chat-bubble"><p>${text}</p></div>`;
            }
            messagesDiv.appendChild(msgDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            return msgDiv;
        }

        function removeTypingIndicator() {
            const typing = document.getElementById('typing-indicator');
            if (typing) typing.remove();
        }

        function formatResponse(answer) {
            let html = answer
                .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank" rel="noopener" style="color: var(--accent);">$1</a>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>');
            const parts = html.split(/⚕️/);
            let output = parts[0];
            if (parts[1]) {
                output += `</p><p class="disclaimer" style="font-size: 12px; color: var(--text-muted); margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--border);">⚕️${parts[1]}`;
            }
            return output;
        }

        async function askQuestion() {
            const input = getActiveInput();
            const question = input.value.trim();
            if (!question) return;
            const suggestions = document.querySelector('.qa-suggestions');
            if (suggestions) suggestions.style.display = 'none';
            addMessage(question, true);
            input.value = '';
            if (!splitModeActive) activateSplitMode();
            const typingMsg = addMessage('', false, true);
            try {
                const response = await fetch(QA_API, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        question: question,
                        topic: 'thyroid',
                        session_id: SESSION_ID
                    })
                });
                removeTypingIndicator();
                if (!response.ok) throw new Error('API error');
                const reader = response.body.getReader();
                const decoder = new TextDecoder();
                let fullResponse = '';
                const answerMsg = addMessage('', false);
                const answerP = answerMsg.querySelector('p');
                const typewriter = new Typewriter(answerP, 8);
                while (true) {
                    const {value, done} = await reader.read();
                    if (done) break;
                    const chunk = decoder.decode(value, {stream: true});
                    const lines = chunk.split('\n');
                    for (const line of lines) {
                        if (line.startsWith('data: ')) {
                            const data = line.slice(6);
                            if (data === '[DONE]') {
                                
                // Track query (client-side)
                fetch('https://mikes-mac-mini.platy-paradise.ts.net:18791/api/track', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json', 'X-API-Key': '3460683416d20694dc8f05cdb01af378' },
                    body: JSON.stringify({ site: 'thyroid.md', query: question, response: (fullResponse || '').slice(0, 500), session_id: SESSION_ID || null }),
                }).catch(() => {});
                // GA4 engagement events (reduces bounce rate)
                if (typeof gtag === 'function') {
                  gtag('event', 'qa_question_asked', { event_category: 'Q&A', event_label: 'thyroid.md', value: 1 });
                  gtag('event', 'qa_response_received', { event_category: 'Q&A', event_label: 'thyroid.md', engagement_time_msec: 10000 });
                }

                await typewriter.finish();
                                break;
                            }
                            try {
                                const json = JSON.parse(data);
                                if (json.text) typewriter.add(json.text);
                            } catch (e) {}
                        }
                    }
                }
            } catch (error) {
                removeTypingIndicator();
                addMessage('Sorry, I encountered an error. Please try again.', false);
            }
        }

        function askSuggestion(elem) {
            const input = getActiveInput();
            input.value = elem.textContent;
            askQuestion();
        }

        document.getElementById('qa-input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                askQuestion();
            }
        });
        document.getElementById('panel-input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                askQuestion();
            }
        });
    </script>
</body>
</html>
